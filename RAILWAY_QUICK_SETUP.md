# Быстрая настройка переменных на Railway

## Переменные, которые нужны

### 1. DATABASE_URL (автоматически создается Railway)

**Где взять:**
- Railway Dashboard → Ваш PostgreSQL сервис → Variables
- Railway автоматически создает эту переменную при создании PostgreSQL
- Она уже доступна для основного сервиса (Next.js приложения)

**Что делать:** Ничего не нужно делать, Railway делает это автоматически! ✅

---

### 2. JWT_SECRET (нужно добавить вручную)

**Где добавить:**
- Railway Dashboard → Ваш проект (Next.js сервис) → Settings → Variables
- **ВАЖНО:** Добавляйте в основной сервис (Next.js приложение), НЕ в базу данных!

**Как сгенерировать значение:**

**Локально (Windows PowerShell):**
```powershell
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

**Или онлайн:**
- Используйте любой генератор случайных строк (минимум 32 символа)

**Пример значения:**
```
a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0e1f2
```

**Как добавить:**
1. Откройте Railway Dashboard
2. Выберите ваш проект (Next.js приложение)
3. Перейдите в **Settings** → **Variables**
4. Нажмите **+ New Variable**
5. Имя: `JWT_SECRET`
6. Значение: вставьте сгенерированную строку
7. Нажмите **Add**

---

## Итого: Нужно добавить только 1 переменную вручную!

### ✅ DATABASE_URL
- **Статус:** Автоматически создается Railway
- **Действие:** Ничего не делать

### ✅ JWT_SECRET  
- **Статус:** Нужно добавить вручную
- **Где:** Next.js сервис → Settings → Variables
- **Имя:** `JWT_SECRET`
- **Значение:** Случайная строка (минимум 32 символа)

---

## После добавления переменных

1. Railway автоматически перезапустит приложение
2. Запустите миграции:
   ```bash
   railway run npx prisma migrate deploy
   ```
3. Запустите seed (создаст контент и админа):
   ```bash
   railway run npm run prisma:seed
   ```

---

## Проверка

После добавления всех переменных в Railway Dashboard → Variables должны быть:

✅ `DATABASE_URL` (автоматически от PostgreSQL)  
✅ `JWT_SECRET` (добавлено вручную)

---

## Важные напоминания

- `DATABASE_URL` автоматически доступна всем сервисам в проекте
- `JWT_SECRET` нужно добавить именно в Next.js сервис (основное приложение)
- Не добавляйте `JWT_SECRET` в базу данных - добавьте в основное приложение!

